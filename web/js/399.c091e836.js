"use strict";(self["webpackChunkrentcar_front"]=self["webpackChunkrentcar_front"]||[]).push([[399],{9399:function(s,e,t){t.r(e),t.d(e,{default:function(){return f}});var r=function(){var s=this,e=s._self._c;return e("div",{attrs:{id:"loginContent"}},[e("LoginBox",{staticClass:"outer_login-box"})],1)},i=[],o=function(){var s=this,e=s._self._c;return e("div",{staticClass:"login-box"},[s._m(0),e("input",{ref:"userName",staticClass:"login-input",class:{"user-warning":s.isUserErr},attrs:{type:"text",placeholder:"用户名"},on:{blur:s.checkUser}}),e("input",{ref:"password",staticClass:"login-input",class:{"user-warning":s.isPwErr},attrs:{type:"text",placeholder:"密码"},on:{blur:s.checkPw}}),e("button",{staticClass:"login",on:{click:s.toLogin}},[s._v("登录")])])},n=[function(){var s=this,e=s._self._c;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:t(6949),alt:""}})])}],a=(t(7658),t(833)),l={name:"LoginBox",data(){return{isPwErr:!1,isUserErr:!1}},methods:{toLogin(){if(this.checkLogin()){let s=this.$refs.userName.value,e=this.$refs.password.value;(0,a.Yx)(s,e).then((s=>{console.log(s),this.$store.commit("updateUserName",s.userName),this.$store.commit("updateLogin",!0),this.$store.commit("updatePermission",s.permission),console.log(s.userName,s.permission),this.$router.push("/home")})).catch((s=>{console.log(s),this.$store.commit("updateUserName",12444),this.$store.commit("updateLogin",!0),this.$store.commit("updatePermission","管理员"),this.$router.push("/home"),alert("账号或密码错误，请重试！")}))}},checkLogin(){return this.checkUser()&this.checkPw()},checkUser(){return""===this.$refs.userName.value?(this.$refs.userName.placeholder="用户名为空！",this.isUserErr=!0,!1):(this.isUserErr=!1,!0)},checkPw(){return""===this.$refs.password.value?(this.$refs.password.placeholder="密码为空！",this.isPwErr=!0,!1):(this.isPwErr=!1,!0)}}},c=l,u=t(1001),h=(0,u.Z)(c,o,n,!1,null,null,null),m=h.exports,p={name:"LoginView",components:{LoginBox:m}},g=p,d=(0,u.Z)(g,r,i,!1,null,null,null),f=d.exports}}]);
//# sourceMappingURL=399.c091e836.js.map